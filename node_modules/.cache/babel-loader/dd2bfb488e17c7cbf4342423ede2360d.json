{"ast":null,"code":"var _jsxFileName = \"/Users/tszhofong/project/FYP-FE/src/components/Sidebar/Sidebar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Drawer, IconButton, List } from \"@material-ui/core\";\nimport { Home as HomeIcon, Person as PersonIcon, NotificationsNone as NotificationsIcon, FormatSize as TypographyIcon, FilterNone as UIElementsIcon, BorderAll as TableIcon, QuestionAnswer as SupportIcon, LibraryBooks as LibraryIcon, HelpOutline as FAQIcon, ArrowBack as ArrowBackIcon, DateRange as DateRangeIcon, AccessAlarms as AccessAlarmsIcon } from \"@material-ui/icons\";\nimport { useTheme } from \"@material-ui/styles\";\nimport { withRouter } from \"react-router-dom\";\nimport classNames from \"classnames\"; // styles\n\nimport useStyles from \"./styles\"; // components\n\nimport SidebarLink from \"./components/SidebarLink/SidebarLink\";\nimport Dot from \"./components/Dot\"; // context\n\nimport { useLayoutState, useLayoutDispatch, toggleSidebar } from \"../../context/LayoutContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Sidebar(_ref) {\n  _s();\n\n  let {\n    location\n  } = _ref;\n  useEffect(() => {\n    console.log(\"fff\");\n  }, []);\n  var classes = useStyles();\n  var theme = useTheme(); // global\n\n  var {\n    isSidebarOpened\n  } = useLayoutState();\n  var layoutDispatch = useLayoutDispatch(); // local\n\n  var [isPermanent, setPermanent] = useState(true);\n  var [structure, setStructure] = useState([]);\n\n  if (localStorage.getItem('type') === 'physiotherapists') {\n    console.log(\"local: \", localStorage.getItem('type'));\n    structure = [{\n      id: 0,\n      label: \"預約診症\",\n      link: \"/app/book\",\n      icon: /*#__PURE__*/_jsxDEV(DateRangeIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 56\n      }, this)\n    }, {\n      id: 1,\n      label: \"預約記錄\",\n      link: \"/app/appointment\",\n      icon: /*#__PURE__*/_jsxDEV(AccessAlarmsIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 63\n      }, this)\n    }];\n  } else {\n    console.log(\"local: \", localStorage.getItem('type'));\n    structure = [{\n      id: 0,\n      label: \"個人資料\",\n      link: \"/app/personal\",\n      icon: /*#__PURE__*/_jsxDEV(PersonIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 60\n      }, this)\n    }, {\n      id: 1,\n      label: \"預約診症\",\n      link: \"/app/book\",\n      icon: /*#__PURE__*/_jsxDEV(DateRangeIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 56\n      }, this)\n    }, {\n      id: 2,\n      label: \"預約記錄\",\n      link: \"/app/appointment\",\n      icon: /*#__PURE__*/_jsxDEV(AccessAlarmsIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 63\n      }, this)\n    }, {\n      id: 1,\n      label: \"Typography\",\n      link: \"/app/typography\",\n      icon: /*#__PURE__*/_jsxDEV(TypographyIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }, this)\n    }, {\n      id: 2,\n      label: \"Tables\",\n      link: \"/app/tables\",\n      icon: /*#__PURE__*/_jsxDEV(TableIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 60\n      }, this)\n    }, {\n      id: 3,\n      label: \"Notifications\",\n      link: \"/app/notifications\",\n      icon: /*#__PURE__*/_jsxDEV(NotificationsIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 15\n      }, this)\n    }, {\n      id: 4,\n      label: \"UI Elements\",\n      link: \"/app/ui\",\n      icon: /*#__PURE__*/_jsxDEV(UIElementsIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 15\n      }, this),\n      children: [{\n        label: \"Icons\",\n        link: \"/app/ui/icons\"\n      }, {\n        label: \"Charts\",\n        link: \"/app/ui/charts\"\n      }, {\n        label: \"Maps\",\n        link: \"/app/ui/maps\"\n      }]\n    }];\n  }\n\n  useEffect(() => {\n    console.log(\"localStorage: \", localStorage);\n    let tempStructure;\n\n    if (localStorage.getItem('type') === 'physiotherapists') {\n      tempStructure = [{\n        id: 0,\n        label: \"預約診症\",\n        link: \"/app/book\",\n        icon: /*#__PURE__*/_jsxDEV(DateRangeIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 58\n        }, this)\n      }, {\n        id: 1,\n        label: \"預約記錄\",\n        link: \"/app/appointment\",\n        icon: /*#__PURE__*/_jsxDEV(AccessAlarmsIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 65\n        }, this)\n      }];\n    } else {\n      tempStructure = [{\n        id: 0,\n        label: \"個人資料\",\n        link: \"/app/personal\",\n        icon: /*#__PURE__*/_jsxDEV(PersonIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 62\n        }, this)\n      }, {\n        id: 1,\n        label: \"預約診症\",\n        link: \"/app/book\",\n        icon: /*#__PURE__*/_jsxDEV(DateRangeIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 58\n        }, this)\n      }, {\n        id: 2,\n        label: \"預約記錄\",\n        link: \"/app/appointment\",\n        icon: /*#__PURE__*/_jsxDEV(AccessAlarmsIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 65\n        }, this)\n      }, {\n        id: 1,\n        label: \"Typography\",\n        link: \"/app/typography\",\n        icon: /*#__PURE__*/_jsxDEV(TypographyIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }, this)\n      }, {\n        id: 2,\n        label: \"Tables\",\n        link: \"/app/tables\",\n        icon: /*#__PURE__*/_jsxDEV(TableIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 62\n        }, this)\n      }, {\n        id: 3,\n        label: \"Notifications\",\n        link: \"/app/notifications\",\n        icon: /*#__PURE__*/_jsxDEV(NotificationsIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 17\n        }, this)\n      }, {\n        id: 4,\n        label: \"UI Elements\",\n        link: \"/app/ui\",\n        icon: /*#__PURE__*/_jsxDEV(UIElementsIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 17\n        }, this),\n        children: [{\n          label: \"Icons\",\n          link: \"/app/ui/icons\"\n        }, {\n          label: \"Charts\",\n          link: \"/app/ui/charts\"\n        }, {\n          label: \"Maps\",\n          link: \"/app/ui/maps\"\n        }]\n      }];\n    }\n\n    setStructure(tempStructure);\n  }, []);\n  useEffect(function () {\n    window.addEventListener(\"resize\", handleWindowWidthChange);\n    handleWindowWidthChange();\n    return function cleanup() {\n      window.removeEventListener(\"resize\", handleWindowWidthChange);\n    };\n    console.log(\"fdfdfdfsf\");\n  });\n  return /*#__PURE__*/_jsxDEV(Drawer, {\n    variant: isPermanent ? \"permanent\" : \"temporary\",\n    className: classNames(classes.drawer, {\n      [classes.drawerOpen]: isSidebarOpened,\n      [classes.drawerClose]: !isSidebarOpened\n    }),\n    classes: {\n      paper: classNames({\n        [classes.drawerOpen]: isSidebarOpened,\n        [classes.drawerClose]: !isSidebarOpened\n      })\n    },\n    open: isSidebarOpened,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.toolbar\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.mobileBackButton,\n      children: /*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: () => toggleSidebar(layoutDispatch),\n        children: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {\n          classes: {\n            root: classNames(classes.headerIcon, classes.headerIconCollapse)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      className: classes.sidebarList,\n      children: structure.map(link => /*#__PURE__*/_jsxDEV(SidebarLink, {\n        location: location,\n        isSidebarOpened: isSidebarOpened,\n        ...link\n      }, link.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this); // ##################################################################\n\n  function handleWindowWidthChange() {\n    var windowWidth = window.innerWidth;\n    var breakpointWidth = theme.breakpoints.values.md;\n    var isSmallScreen = windowWidth < breakpointWidth;\n\n    if (isSmallScreen && isPermanent) {\n      setPermanent(false);\n    } else if (!isSmallScreen && !isPermanent) {\n      setPermanent(true);\n    }\n  }\n}\n\n_s(Sidebar, \"t6oZHMH2CRGO42g32BRiOYE7bFU=\", false, function () {\n  return [useStyles, useTheme, useLayoutState, useLayoutDispatch];\n});\n\n_c = Sidebar;\nexport default _c2 = withRouter(Sidebar);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Sidebar\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/tszhofong/project/FYP-FE/src/components/Sidebar/Sidebar.js"],"names":["React","useState","useEffect","Drawer","IconButton","List","Home","HomeIcon","Person","PersonIcon","NotificationsNone","NotificationsIcon","FormatSize","TypographyIcon","FilterNone","UIElementsIcon","BorderAll","TableIcon","QuestionAnswer","SupportIcon","LibraryBooks","LibraryIcon","HelpOutline","FAQIcon","ArrowBack","ArrowBackIcon","DateRange","DateRangeIcon","AccessAlarms","AccessAlarmsIcon","useTheme","withRouter","classNames","useStyles","SidebarLink","Dot","useLayoutState","useLayoutDispatch","toggleSidebar","Sidebar","location","console","log","classes","theme","isSidebarOpened","layoutDispatch","isPermanent","setPermanent","structure","setStructure","localStorage","getItem","id","label","link","icon","children","tempStructure","window","addEventListener","handleWindowWidthChange","cleanup","removeEventListener","drawer","drawerOpen","drawerClose","paper","toolbar","mobileBackButton","root","headerIcon","headerIconCollapse","sidebarList","map","windowWidth","innerWidth","breakpointWidth","breakpoints","values","md","isSmallScreen"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Drawer, IconButton, List } from \"@material-ui/core\";\nimport {\n  Home as HomeIcon,\n  Person as PersonIcon,\n  NotificationsNone as NotificationsIcon,\n  FormatSize as TypographyIcon,\n  FilterNone as UIElementsIcon,\n  BorderAll as TableIcon,\n  QuestionAnswer as SupportIcon,\n  LibraryBooks as LibraryIcon,\n  HelpOutline as FAQIcon,\n  ArrowBack as ArrowBackIcon,\n  DateRange as DateRangeIcon,\n  AccessAlarms as AccessAlarmsIcon\n} from \"@material-ui/icons\";\nimport { useTheme } from \"@material-ui/styles\";\nimport { withRouter } from \"react-router-dom\";\nimport classNames from \"classnames\";\n\n// styles\nimport useStyles from \"./styles\";\n\n// components\nimport SidebarLink from \"./components/SidebarLink/SidebarLink\";\nimport Dot from \"./components/Dot\";\n\n// context\nimport {\n  useLayoutState,\n  useLayoutDispatch,\n  toggleSidebar,\n} from \"../../context/LayoutContext\";\n\nfunction Sidebar({ location }) {\n\n  useEffect(() => {\n    console.log(\"fff\");\n\n  }, []);\n\n  var classes = useStyles();\n  var theme = useTheme();\n\n  // global\n  var { isSidebarOpened } = useLayoutState();\n  var layoutDispatch = useLayoutDispatch();\n\n  // local\n  var [isPermanent, setPermanent] = useState(true);\n  var [structure, setStructure] = useState([]);\n\n  if(localStorage.getItem('type') === 'physiotherapists'){\n    console.log(\"local: \", localStorage.getItem('type'));\n    structure = [\n      { id: 0, label: \"預約診症\", link: \"/app/book\", icon: <DateRangeIcon /> },\n      { id: 1, label: \"預約記錄\", link: \"/app/appointment\", icon: <AccessAlarmsIcon /> },\n    ];\n  }\n  else{\n    console.log(\"local: \", localStorage.getItem('type'));\n    structure = [\n      { id: 0, label: \"個人資料\", link: \"/app/personal\", icon: <PersonIcon /> },\n      { id: 1, label: \"預約診症\", link: \"/app/book\", icon: <DateRangeIcon /> },\n      { id: 2, label: \"預約記錄\", link: \"/app/appointment\", icon: <AccessAlarmsIcon /> },\n      {\n        id: 1,\n        label: \"Typography\",\n        link: \"/app/typography\",\n        icon: <TypographyIcon />,\n      },\n      { id: 2, label: \"Tables\", link: \"/app/tables\", icon: <TableIcon /> },\n      {\n        id: 3,\n        label: \"Notifications\",\n        link: \"/app/notifications\",\n        icon: <NotificationsIcon />,\n      },\n      {\n        id: 4,\n        label: \"UI Elements\",\n        link: \"/app/ui\",\n        icon: <UIElementsIcon />,\n        children: [\n          { label: \"Icons\", link: \"/app/ui/icons\" },\n          { label: \"Charts\", link: \"/app/ui/charts\" },\n          { label: \"Maps\", link: \"/app/ui/maps\" },\n        ],\n      },\n    ];\n  }\n  useEffect(() => {\n    console.log(\"localStorage: \", localStorage);\n    let tempStructure;\n    if(localStorage.getItem('type') === 'physiotherapists'){\n      tempStructure = [\n        { id: 0, label: \"預約診症\", link: \"/app/book\", icon: <DateRangeIcon /> },\n        { id: 1, label: \"預約記錄\", link: \"/app/appointment\", icon: <AccessAlarmsIcon /> },\n      ];\n    }\n    else{\n      tempStructure = [\n        { id: 0, label: \"個人資料\", link: \"/app/personal\", icon: <PersonIcon /> },\n        { id: 1, label: \"預約診症\", link: \"/app/book\", icon: <DateRangeIcon /> },\n        { id: 2, label: \"預約記錄\", link: \"/app/appointment\", icon: <AccessAlarmsIcon /> },\n        {\n          id: 1,\n          label: \"Typography\",\n          link: \"/app/typography\",\n          icon: <TypographyIcon />,\n        },\n        { id: 2, label: \"Tables\", link: \"/app/tables\", icon: <TableIcon /> },\n        {\n          id: 3,\n          label: \"Notifications\",\n          link: \"/app/notifications\",\n          icon: <NotificationsIcon />,\n        },\n        {\n          id: 4,\n          label: \"UI Elements\",\n          link: \"/app/ui\",\n          icon: <UIElementsIcon />,\n          children: [\n            { label: \"Icons\", link: \"/app/ui/icons\" },\n            { label: \"Charts\", link: \"/app/ui/charts\" },\n            { label: \"Maps\", link: \"/app/ui/maps\" },\n          ],\n        },\n      ];\n    }\n    setStructure(tempStructure);\n\n  }, []);\n\n  useEffect(function() {\n    window.addEventListener(\"resize\", handleWindowWidthChange);\n    handleWindowWidthChange();\n    return function cleanup() {\n      window.removeEventListener(\"resize\", handleWindowWidthChange);\n    };\n    console.log(\"fdfdfdfsf\");\n  });\n\n  return (\n    <Drawer\n      variant={isPermanent ? \"permanent\" : \"temporary\"}\n      className={classNames(classes.drawer, {\n        [classes.drawerOpen]: isSidebarOpened,\n        [classes.drawerClose]: !isSidebarOpened,\n      })}\n      classes={{\n        paper: classNames({\n          [classes.drawerOpen]: isSidebarOpened,\n          [classes.drawerClose]: !isSidebarOpened,\n        }),\n      }}\n      open={isSidebarOpened}\n    >\n      <div className={classes.toolbar} />\n      <div className={classes.mobileBackButton}>\n        <IconButton onClick={() => toggleSidebar(layoutDispatch)}>\n          <ArrowBackIcon\n            classes={{\n              root: classNames(classes.headerIcon, classes.headerIconCollapse),\n            }}\n          />\n        </IconButton>\n      </div>\n      <List className={classes.sidebarList}>\n        {structure.map(link => (\n          <SidebarLink\n            key={link.id}\n            location={location}\n            isSidebarOpened={isSidebarOpened}\n            {...link}\n          />\n        ))}\n      </List>\n    </Drawer>\n  );\n\n  // ##################################################################\n  function handleWindowWidthChange() {\n    var windowWidth = window.innerWidth;\n    var breakpointWidth = theme.breakpoints.values.md;\n    var isSmallScreen = windowWidth < breakpointWidth;\n\n    if (isSmallScreen && isPermanent) {\n      setPermanent(false);\n    } else if (!isSmallScreen && !isPermanent) {\n      setPermanent(true);\n    }\n  }\n}\n\nexport default withRouter(Sidebar);\n"]},"metadata":{},"sourceType":"module"}